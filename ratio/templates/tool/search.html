{% from "tool/macros.html" import entity_div %}
{% from "tool/macros.html" import search_result %}

{% extends 'tool/layout.html' %}

{% block title %}{{ frontend_config['tool_name'] }} - Search{% endblock %}

{% block header_content %}
<div class="flex-fix ghost-center"><b>{{ frontend_config['Subgraph_term'] }}s search</b></div>
<div class="font-small flex-flex">
  Select the characteristics of the {{ frontend_config['subgraph_term'] }}s whose overview you would like to see.<br>
  Do not input any filter to retrieve all the existing {{ frontend_config['subgraph_term'] }}s.<br>
  <b>Only {{ frontend_config['subgraph_term'] }}s marked as finished are considered.</b>
</div>
{% endblock %}

{% block body_content %}
<script src="{{ url_for('static', filename='js/search.js') }}" defer></script>

{{ entity_div(filter, is_root=false, is_deletable=False, collapsed=False, id='filter-entity') }}

<div class="entity entity-border" style="margin-top: 1em;">
  <div class="entity-title color2 flex-row">
    <div class="entity-label flex-flex">{{ frontend_config['Subgraph_term'] }}s</div>
  </div>
  <div class="entity-body" id="search-results">
    {% for subgraph in subgraphs %}
    {{ search_result(subgraph, rdf_graphs[loop.index0]) }}
    {% endfor %}
    <div id="no-match-msg" style="display: none;">No studies with these characteristics have been found.</div>
  </div>
</div>
{% endblock %}
