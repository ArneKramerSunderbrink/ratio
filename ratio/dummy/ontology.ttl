@prefix : <http://www.semanticweb.org/root/ontologies/2018/6/ctro#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix ctro: <http://www.semanticweb.org/root/ontologies/2018/6/ctro#> .
@prefix ratio: <http://www.example.org/ratio-tool#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

#################################################################
#    Datatypes
#################################################################

###  http://www.w3.org/2006/time#Interval
<http://www.w3.org/2006/time#Interval> rdf:type rdfs:Datatype .


#################################################################
#    Object Properties
#################################################################

ratio:described_by rdf:type owl:ObjectProperty ,
                            owl:FunctionalProperty ;
                   ratio:order "1"^^xsd:positiveInteger ;
                   rdfs:domain ctro:ClinicalTrial ;
                   rdfs:range ctro:Publication ;
                   rdfs:label "is described by Publication" .

ctro:hasCTDesign rdf:type owl:ObjectProperty ;
                 ratio:order "3"^^xsd:positiveInteger ;
                 rdfs:domain ctro:ClinicalTrial ;
                 rdfs:range ctro:CTDesign ;
                 rdfs:label "Clinical trial design" .

ctro:analysesHealthCondition rdf:type owl:ObjectProperty ;
                             ratio:order "1"^^xsd:positiveInteger ;
                             rdfs:domain ctro:CTDesign ;
                             rdfs:range ctro:DisorderOrSyndrome ;
                             rdfs:label "Disease" .

ctro:hasAnalysisApproach rdf:type owl:ObjectProperty ,
                                  owl:FunctionalProperty ;
                         ratio:order "4"^^xsd:positiveInteger ;
                         rdfs:domain ctro:CTDesign ;
                         rdfs:range ctro:CTAnalysisApproach ;
                         rdfs:label "Analysis approach" .

ctro:hasPopulation rdf:type owl:ObjectProperty ,
                            owl:FunctionalProperty ;
                   ratio:order "4"^^xsd:positiveInteger ;
                   rdfs:domain ctro:ClinicalTrial ;
                   rdfs:range ctro:Population ;
                   rdfs:label "Population" .

ctro:hasEthnicity rdf:type owl:ObjectProperty ;
                  ratio:order "4"^^xsd:positiveInteger ;
                  rdfs:domain ctro:Population ;
                  rdfs:range ctro:Ethnicity ;
                  rdfs:label "Ethnicity" .

ctro:hasCountry rdf:type owl:ObjectProperty ;
                ratio:order "6"^^xsd:positiveInteger ;
                rdfs:domain ctro:Population ;
                rdfs:range <http://www.bpiresearch.com/BPMO/2004/03/03/cdl/Countries#Country> ;
                rdfs:label "Country" .

ctro:hasQualityIndicator rdf:type owl:ObjectProperty ;
                         ratio:order "5"^^xsd:positiveInteger ;
                         rdfs:subPropertyOf owl:topObjectProperty ;
                         rdfs:domain ctro:ClinicalTrial ;
                         rdfs:range ctro:EvidenceQuality ;
                         rdfs:label "Quality / bias indicator" .

ctro:hasArm rdf:type owl:ObjectProperty ;
            ratio:order "6"^^xsd:positiveInteger ;
            rdfs:domain ctro:ClinicalTrial ;
            rdfs:range ctro:Arm ;
            rdfs:label "Interventional-Arm" .

ctro:hasIntervention rdf:type owl:ObjectProperty ;
                     ratio:order "2"^^xsd:positiveInteger ;
                     rdfs:domain ctro:Arm ;
                     rdfs:range ctro:Intervention ;
                     rdfs:label "Intervention" .

ctro:hasDrug rdf:type owl:ObjectProperty ,
                      owl:FunctionalProperty ;
             ratio:order "3"^^xsd:positiveInteger ;
             rdfs:domain ctro:Intervention ;
             rdfs:range ctro:Drug ;
             rdfs:label "Drug" .

ctro:hasDoseUnit rdf:type owl:ObjectProperty ,
                          owl:FunctionalProperty ;
                 ratio:order "4"^^xsd:positiveInteger ;
                 rdfs:domain ctro:Intervention ;
                 rdfs:range ctro:BioAndMedicalUnit ;
                 rdfs:label "Dose unit" .

ctro:hasDeliveryMethod rdf:type owl:ObjectProperty ;
                       ratio:order "5"^^xsd:positiveInteger ;
                       rdfs:domain ctro:Medication ;
                       rdfs:range ctro:DeliveryMethod ;
                       rdfs:label "Delivery method" .


#################################################################
#    Data properties
#################################################################

ctro:hasObjectiveDescription rdf:type owl:DatatypeProperty ,
                                      owl:FunctionalProperty ;
                             ratio:order "2"^^xsd:positiveInteger ;
                             rdfs:domain ctro:ClinicalTrial ;
                             rdfs:range xsd:string ;
                             rdfs:label "Objective" .

ctro:hasTitle rdf:type owl:DatatypeProperty ,
                       owl:FunctionalProperty ;
              ratio:order "1"^^xsd:positiveInteger ;
              rdfs:domain ctro:Publication ;
              rdfs:range xsd:string ;
              rdfs:label "Title" .

ctro:hasJournal rdf:type owl:DatatypeProperty ,
                         owl:FunctionalProperty ;
                ratio:order "2"^^xsd:positiveInteger ;
                rdfs:domain ctro:Publication ;
                rdfs:range xsd:string ;
                rdfs:label "Journal" .

ctro:hasAuthor rdf:type owl:DatatypeProperty ;
               ratio:order "3"^^xsd:positiveInteger ;
               rdfs:domain ctro:Publication ;
               rdfs:range xsd:string ;
               rdfs:label "Author" .

ctro:hasPublicationYear rdf:type owl:DatatypeProperty ,
                                 owl:FunctionalProperty ;
                        ratio:order "4"^^xsd:positiveInteger ;
                        rdfs:domain ctro:Publication ;
                        rdfs:range xsd:positiveInteger ;
                        rdfs:label "Publication year" .

ctro:hasPMID rdf:type owl:DatatypeProperty ,
                      owl:FunctionalProperty ;
             ratio:order "4"^^xsd:positiveInteger ;
             rdfs:domain ctro:Publication ;
             rdfs:range rdfs:Literal ;
             rdfs:label "PMID" .

ctro:hasNumberPatientsCT rdf:type owl:DatatypeProperty ,
                                  owl:FunctionalProperty ;
                         ratio:order "2"^^xsd:positiveInteger ;
                         rdfs:domain ctro:CTDesign ;
                         rdfs:range xsd:positiveInteger ;
                         rdfs:label "Initial number of patients" .

ctro:hasCTduration rdf:type owl:DatatypeProperty ,
                            owl:FunctionalProperty ;
                   ratio:order "3"^^xsd:positiveInteger ;
                   rdfs:domain ctro:CTDesign ;
                   rdfs:range xsd:positiveInteger ;
                   rdfs:comment "Duration of the trial given in WEEKS" ;
                   rdfs:label "Trial duration" .

ctro:hasGender rdf:type owl:DatatypeProperty ,
                        owl:FunctionalProperty ;
               ratio:order "1"^^xsd:positiveInteger ;
               rdfs:domain ctro:Population ;
               rdfs:range [ rdf:type rdfs:Datatype ;
                            owl:oneOf [ rdf:type rdf:List ;
                                        rdf:first "Female" ;
                                        rdf:rest [ rdf:type rdf:List ;
                                                   rdf:first "Male" ;
                                                   rdf:rest [ rdf:type rdf:List ;
                                                              rdf:first "Mixed" ;
                                                              rdf:rest rdf:nil
                                                            ]
                                                 ]
                                      ]
                          ] ;
               rdfs:label "Gender" .

ctro:hasMinAge rdf:type owl:DatatypeProperty ,
                        owl:FunctionalProperty ;
               ratio:order "2"^^xsd:positiveInteger ;
               rdfs:domain ctro:Population ;
               rdfs:range xsd:positiveInteger ;
               rdfs:label "Min. age" .

ctro:hasMaxAge rdf:type owl:DatatypeProperty ,
                        owl:FunctionalProperty ;
               ratio:order "3"^^xsd:positiveInteger ;
               rdfs:domain ctro:Population ;
               rdfs:range xsd:positiveInteger ;
               rdfs:label "Max. age" .

ctro:hasPreconditionDescription rdf:type owl:DatatypeProperty ;
                                ratio:order "3"^^xsd:positiveInteger ;
                                rdfs:domain ctro:Population ;
                                rdfs:range xsd:string ;
                                rdfs:label "Precondition" .

ctro:hasAuthorAffilation rdf:type owl:DatatypeProperty ;
                         ratio:order "3"^^xsd:positiveInteger ;
                         rdfs:domain ctro:EvidenceQuality ;
                         rdfs:range xsd:string ;
                         rdfs:label "Author affilation" .

ctro:hasConflictInterest rdf:type owl:DatatypeProperty ;
                         ratio:order "2"^^xsd:positiveInteger ;
                         rdfs:domain ctro:EvidenceQuality ;
                         rdfs:range xsd:string ;
                         rdfs:label "Conflict of interest" .

ctro:hasSponsor rdf:type owl:DatatypeProperty ;
                ratio:order "1"^^xsd:positiveInteger ;
                rdfs:domain ctro:EvidenceQuality ;
                rdfs:range xsd:string ;
                rdfs:label "Sponsor" .

ctro:hasNumberPatientsArm rdf:type owl:DatatypeProperty ,
                                   owl:FunctionalProperty ;
                          ratio:order "1"^^xsd:positiveInteger ;
                          rdfs:domain ctro:Arm ;
                          rdfs:range xsd:positiveInteger ;
                          rdfs:label "Number of patients in arm" .

ctro:hasDuration rdf:type owl:DatatypeProperty ;
                 ratio:order "1"^^xsd:positiveInteger ;
                 rdfs:domain ctro:Intervention ;
                 rdfs:range rdfs:Literal ;
                 rdfs:label "Intervention duration" .

ctro:hasFrequency rdf:type owl:DatatypeProperty ,
                           owl:FunctionalProperty ;
                  ratio:order "2"^^xsd:positiveInteger ;
                  rdfs:domain ctro:Intervention ;
                  rdfs:range [ rdf:type rdfs:Datatype ;
                               owl:oneOf [ rdf:type rdf:List ;
                                           rdf:first "b.i.d." ;
                                           rdf:rest [ rdf:type rdf:List ;
                                                      rdf:first "every 2 hrs." ;
                                                      rdf:rest [ rdf:type rdf:List ;
                                                                 rdf:first "every 3 hours" ;
                                                                 rdf:rest [ rdf:type rdf:List ;
                                                                            rdf:first "every day" ;
                                                                            rdf:rest [ rdf:type rdf:List ;
                                                                                       rdf:first "every other day" ;
                                                                                       rdf:rest [ rdf:type rdf:List ;
                                                                                                  rdf:first "other" ;
                                                                                                  rdf:rest [ rdf:type rdf:List ;
                                                                                                             rdf:first "q.i.d" ;
                                                                                                             rdf:rest [ rdf:type rdf:List ;
                                                                                                                        rdf:first "t.i.d" ;
                                                                                                                        rdf:rest rdf:nil
                                                                                                                      ]
                                                                                                           ]
                                                                                                ]
                                                                                     ]
                                                                          ]
                                                               ]
                                                    ]
                                         ]
                             ] ;
                  rdfs:label "Frequency" .

#################################################################
#    Classes
#################################################################

ctro:ClinicalTrial rdf:type owl:Class ,
                            ratio:SubgraphRoot ,
                            ratio:Described ;
                   owl:equivalentClass [ rdf:type owl:Restriction ;
                                         owl:onProperty ctro:analysesHealthCondition ;
                                         owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                         owl:onClass ctro:DisorderOrSyndrome
                                       ] ,
                                       [ rdf:type owl:Restriction ;
                                         owl:onProperty ctro:hasArm ;
                                         owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                         owl:onClass ctro:Arm
                                       ] ;
                   rdfs:label "Clinical Trial" .

ctro:Publication rdf:type owl:Class ,
                          ratio:Described ;
                 owl:equivalentClass [ rdf:type owl:Restriction ;
                                       owl:onProperty ctro:describes ;
                                       owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                       owl:onClass ctro:ClinicalTrial
                                     ] ,
                                     [ rdf:type owl:Restriction ;
                                       owl:onProperty ctro:hasAuthor ;
                                       owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                       owl:onDataRange xsd:string
                                     ] ;
                 rdfs:label "Publication" .

ctro:CTDesign rdf:type owl:Class ,
                       ratio:Described;
              rdfs:label "Trial design" .

ctro:DisorderOrSyndrome rdf:type owl:Class ;
                        rdfs:label "Disease" .

ctro:Population rdf:type owl:Class ,
                         ratio:Described;
                rdfs:label "Population" .

ctro:Ethnicity rdf:type owl:Class ;
               rdfs:label "Ethnicity" .

<http://www.bpiresearch.com/BPMO/2004/03/03/cdl/Countries#Country> rdf:type owl:Class ;
                                                                   rdfs:label "Country" .

ctro:EvidenceQuality rdf:type owl:Class ,
                              ratio:Described;
                     rdfs:label "Quality of the Evidence" .

ctro:Arm rdf:type owl:Class ,
                  ratio:Described;
         owl:equivalentClass [ rdf:type owl:Restriction ;
                               owl:onProperty ctro:hasIntervention ;
                               owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                               owl:onClass ctro:Intervention
                             ] ,
                             [ rdf:type owl:Restriction ;
                               owl:onProperty ctro:hasOutcome ;
                               owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                               owl:onClass ctro:Outcome
                             ] ;
         rdfs:comment "Group of patients (or study subjects) receiving a treatment or placebo."^^xsd:string ;
         rdfs:label "Interventional-Arm" .

ctro:Intervention rdf:type owl:Class ,
                           ratio:Described;
                  rdfs:label "Intervention" .

ctro:Drug rdf:type owl:Class ;
          rdfs:label "Drug name" .

ctro:BioAndMedicalUnit rdf:type owl:Class ;
                       rdfs:label "Bio-medical unit" .

ctro:DeliveryMethod rdf:type owl:Class ;
                    rdfs:label "Delivery method" .

#################################################################
#    Individuals
#################################################################

ctro:Glaucoma rdf:type owl:NamedIndividual ,
                       ctro:DisorderOrSyndrome ;
              rdfs:isDefinedBy <http://purl.bioontology.org/ontology/SNOMEDCT/23986001> ;
              rdfs:label "Glaucoma" .

ctro:T2DM rdf:type owl:NamedIndividual ,
                   ctro:DisorderOrSyndrome ;
          rdfs:isDefinedBy <http://purl.bioontology.org/ontology/SNOMEDCT/44054006> ;
          rdfs:label "Type 2 Diabetes Mellitus" .

ctro:China rdf:type owl:NamedIndividual ,
                    <http://www.bpiresearch.com/BPMO/2004/03/03/cdl/Countries#Country> ;
           rdfs:isDefinedBy <http://purl.bioontology.org/ontology/SNOMEDCT/223581004> ;
           rdfs:label "China" .

ctro:USA rdf:type owl:NamedIndividual ,
                  <http://www.bpiresearch.com/BPMO/2004/03/03/cdl/Countries#Country> ;
         rdfs:isDefinedBy <http://purl.bioontology.org/ontology/SNOMEDCT/223688001> ;
         rdfs:label "USA" .

ctro:Latanoprost rdf:type owl:NamedIndividual ,
                          ctro:Drug ;
                 rdfs:isDefinedBy <http://linkedlifedata.com/resource/drug/DB00654> ;
                 rdfs:label "Latanoprost" .

ctro:Timolol rdf:type owl:NamedIndividual ,
                      ctro:Drug ;
             rdfs:isDefinedBy <http://linkedlifedata.com/resource/drug/DB00373> ;
             rdfs:label "Timolol" .

ctro:Injection rdf:type owl:NamedIndividual ,
                        ctro:DeliveryMethod ;
               rdfs:isDefinedBy <http://purl.bioontology.org/ontology/SNOMEDCT/740685003> ;
               rdfs:label "Injection" .

ctro:Oral rdf:type owl:NamedIndividual ,
                   ctro:DeliveryMethod ;
          rdfs:isDefinedBy <http://purl.bioontology.org/ontology/SNOMEDCT/738956005> ;
          rdfs:label "Oral" .
