@prefix : <http://www.semanticweb.org/root/ontologies/2018/6/ctro#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix ctro: <http://www.semanticweb.org/root/ontologies/2018/6/ctro#> .
@prefix ratio: <http://www.example.org/ratio-tool#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

#################################################################
#    Datatypes
#################################################################

###  http://www.w3.org/2006/time#Interval
<http://www.w3.org/2006/time#Interval> rdf:type rdfs:Datatype .


#################################################################
#    Object Properties
#################################################################

ratio:described_by rdf:type owl:ObjectProperty ,
                            owl:FunctionalProperty ;
                   ratio:order "1"^^xsd:positiveInteger ;
                   rdfs:domain ctro:ClinicalTrial ;
                   rdfs:range ctro:Publication ;
                   rdfs:label "is described by Publication" .

ctro:hasCTDesign rdf:type owl:ObjectProperty ;
                 ratio:order "3"^^xsd:positiveInteger ;
                 rdfs:domain ctro:ClinicalTrial ;
                 rdfs:range ctro:CTDesign ;
                 rdfs:label "Clinical trial design" .

ctro:analysesHealthCondition rdf:type owl:ObjectProperty ;
                             ratio:order "1"^^xsd:positiveInteger ;
                             rdfs:domain ctro:CTDesign ;
                             rdfs:range ctro:DisorderOrSyndrome ;
                             rdfs:label "Disease" .

ctro:hasAnalysisApproach rdf:type owl:ObjectProperty ,
                                  owl:FunctionalProperty ;
                         ratio:order "4"^^xsd:positiveInteger ;
                         rdfs:domain ctro:CTDesign ;
                         rdfs:range ctro:CTAnalysisApproach ;
                         rdfs:label "Analysis approach" .


#################################################################
#    Data properties
#################################################################

ctro:hasObjectiveDescription rdf:type owl:DatatypeProperty ,
                                      owl:FunctionalProperty ;
                             ratio:order "2"^^xsd:positiveInteger ;
                             rdfs:domain ctro:ClinicalTrial ;
                             rdfs:range xsd:string ;
                             rdfs:label "Objective" .

ctro:hasTitle rdf:type owl:DatatypeProperty ,
                       owl:FunctionalProperty ;
              ratio:order "1"^^xsd:positiveInteger ;
              rdfs:domain ctro:Publication ;
              rdfs:range xsd:string ;
              rdfs:label "Title" .

ctro:hasJournal rdf:type owl:DatatypeProperty ,
                         owl:FunctionalProperty ;
                ratio:order "2"^^xsd:positiveInteger ;
                rdfs:domain ctro:Publication ;
                rdfs:range xsd:string ;
                rdfs:label "Journal" .

ctro:hasAuthor rdf:type owl:DatatypeProperty ;
               ratio:order "3"^^xsd:positiveInteger ;
               rdfs:domain ctro:Publication ;
               rdfs:range xsd:string ;
               rdfs:label "Author" .

ctro:hasPublicationYear rdf:type owl:DatatypeProperty ,
                                 owl:FunctionalProperty ;
                        ratio:order "4"^^xsd:positiveInteger ;
                        rdfs:domain ctro:Publication ;
                        rdfs:range xsd:positiveInteger ;
                        rdfs:label "Publication year" .

ctro:hasPMID rdf:type owl:DatatypeProperty ,
                      owl:FunctionalProperty ;
             ratio:order "4"^^xsd:positiveInteger ;
             rdfs:domain ctro:Publication ;
             rdfs:range rdfs:Literal ;
             rdfs:label "PMID" .

ctro:hasNumberPatientsCT rdf:type owl:DatatypeProperty ,
                                  owl:FunctionalProperty ;
                         ratio:order "2"^^xsd:positiveInteger ;
                         rdfs:domain ctro:CTDesign ;
                         rdfs:range xsd:positiveInteger ;
                         rdfs:label "Initial number of patients" .

ctro:hasCTduration rdf:type owl:DatatypeProperty ,
                            owl:FunctionalProperty ;
                   ratio:order "3"^^xsd:positiveInteger ;
                   rdfs:domain ctro:CTDesign ;
                   rdfs:range xsd:positiveInteger ;
                   rdfs:comment "Duration of the trial given in WEEKS" ;
                   rdfs:label "Trial duration" .


#################################################################
#    Classes
#################################################################

ctro:ClinicalTrial rdf:type owl:Class ,
                            ratio:SubgraphRoot ,
                            ratio:Described ;
                   owl:equivalentClass [ rdf:type owl:Restriction ;
                                         owl:onProperty ctro:analysesHealthCondition ;
                                         owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                         owl:onClass ctro:DisorderOrSyndrome
                                       ] ,
                                       [ rdf:type owl:Restriction ;
                                         owl:onProperty ctro:hasArm ;
                                         owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                         owl:onClass ctro:Arm
                                       ] ;
                   rdfs:label "Clinical Trial" .

ctro:Publication rdf:type owl:Class ,
                          ratio:Described ;
                 owl:equivalentClass [ rdf:type owl:Restriction ;
                                       owl:onProperty ctro:describes ;
                                       owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                       owl:onClass ctro:ClinicalTrial
                                     ] ,
                                     [ rdf:type owl:Restriction ;
                                       owl:onProperty ctro:hasAuthor ;
                                       owl:minQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                                       owl:onDataRange xsd:string
                                     ] ;
                 rdfs:label "Publication" .

ctro:CTDesign rdf:type owl:Class ,
                       ratio:Described;
              rdfs:label "Trial design" .

ctro:DisorderOrSyndrome rdf:type owl:Class ;
                        rdfs:label "Disease" .

#################################################################
#    Individuals
#################################################################

ctro:Glaucoma rdf:type owl:NamedIndividual ,
                       ctro:DisorderOrSyndrome ;
              rdfs:isDefinedBy <http://purl.bioontology.org/ontology/SNOMEDCT/23986001> ;
              rdfs:label "Glaucoma" .

ctro:T2DM rdf:type owl:NamedIndividual ,
                   ctro:DisorderOrSyndrome ;
          rdfs:isDefinedBy <http://purl.bioontology.org/ontology/SNOMEDCT/44054006> ;
          rdfs:label "Type 2 Diabetes Mellitus" .
